<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>íšŒì›ê°€ì… - ì½”ì•„ì‹œì•„ HR í¬í„¸</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ¢</text></svg>">
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
  
  <!-- Custom CSS -->
  <link rel="stylesheet" href="../css/style.css">
  
  <style>
    .signup-container {
      min-height: calc(100vh - 80px);
      padding: 48px 24px;
      background: linear-gradient(135deg, #E8F1F8 0%, #F7F9FC 100%);
    }
    
    .signup-box {
      background: white;
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
      padding: 48px;
      max-width: 600px;
      margin: 0 auto;
    }
    
    .signup-header {
      text-align: center;
      margin-bottom: 40px;
    }
    
    .signup-header h1 {
      font-size: 28px;
      color: var(--primary-color);
      margin-bottom: 8px;
    }
    
    .signup-header p {
      color: var(--text-secondary);
      font-size: 14px;
    }
    
    .signup-steps {
      display: flex;
      justify-content: space-between;
      margin-bottom: 40px;
      position: relative;
    }
    
    .signup-steps::before {
      content: '';
      position: absolute;
      top: 20px;
      left: 20px;
      right: 20px;
      height: 2px;
      background-color: var(--border-color);
      z-index: 0;
    }
    
    .step {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      position: relative;
      z-index: 1;
    }
    
    .step-circle {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: var(--surface-color);
      border: 2px solid var(--border-color);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      color: var(--text-secondary);
      transition: all 0.3s ease;
    }
    
    .step.active .step-circle {
      background-color: var(--primary-color);
      border-color: var(--primary-color);
      color: white;
    }
    
    .step.completed .step-circle {
      background-color: var(--success-color);
      border-color: var(--success-color);
      color: white;
    }
    
    .step-label {
      font-size: 13px;
      color: var(--text-secondary);
      font-weight: 500;
    }
    
    .step.active .step-label {
      color: var(--primary-color);
    }
    
    .step-content {
      display: none;
    }
    
    .step-content.active {
      display: block;
    }
    
    .terms-box {
      border: 1px solid var(--border-color);
      border-radius: 8px;
      padding: 16px;
      max-height: 200px;
      overflow-y: auto;
      background-color: var(--surface-color);
      font-size: 13px;
      line-height: 1.6;
      margin-bottom: 16px;
    }
    
    .password-strength {
      margin-top: 8px;
      font-size: 13px;
    }
    
    .strength-bar {
      height: 4px;
      background-color: var(--border-color);
      border-radius: 2px;
      margin-bottom: 4px;
      overflow: hidden;
    }
    
    .strength-fill {
      height: 100%;
      width: 0;
      transition: all 0.3s ease;
    }
    
    .strength-weak .strength-fill {
      width: 33%;
      background-color: var(--error-color);
    }
    
    .strength-medium .strength-fill {
      width: 66%;
      background-color: var(--warning-color);
    }
    
    .strength-strong .strength-fill {
      width: 100%;
      background-color: var(--success-color);
    }
    
    .internal-employee-notice {
      background-color: #E8F5E9;
      border: 1px solid var(--success-color);
      border-radius: 8px;
      padding: 16px;
      margin-top: 16px;
      display: none;
    }
    
    .internal-employee-notice.show {
      display: block;
    }
    
    .btn-group {
      display: flex;
      gap: 12px;
      margin-top: 32px;
    }
    
    @media (max-width: 767px) {
      .signup-box {
        padding: 32px 24px;
      }
      
      .signup-header h1 {
        font-size: 24px;
      }
      
      .signup-steps {
        margin-bottom: 32px;
      }
      
      .step-label {
        font-size: 11px;
      }
      
      .step-circle {
        width: 36px;
        height: 36px;
        font-size: 14px;
      }
    }
  </style>
</head>
<body>
  <!-- Simple Header -->
  <header class="header">
    <div class="header-container">
      <a href="/" class="logo">
        <i class="fas fa-building"></i>
        <span style="margin-left: 8px;">COASIA HR</span>
      </a>
    </div>
  </header>

  <!-- Signup Container -->
  <div class="signup-container">
    <div class="signup-box">
      <div class="signup-header">
        <h1>
          <i class="fas fa-user-plus"></i>
          íšŒì›ê°€ì…
        </h1>
        <p>ì½”ì•„ì‹œì•„ HR í¬í„¸ì— ê°€ì…í•˜ì—¬ ë‹¤ì–‘í•œ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ì„¸ìš”</p>
      </div>
      
      <!-- Steps -->
      <div class="signup-steps">
        <div class="step active" data-step="1">
          <div class="step-circle">1</div>
          <div class="step-label">ì•½ê´€ ë™ì˜</div>
        </div>
        <div class="step" data-step="2">
          <div class="step-circle">2</div>
          <div class="step-label">ì •ë³´ ì…ë ¥</div>
        </div>
        <div class="step" data-step="3">
          <div class="step-circle">3</div>
          <div class="step-label">ê°€ì… ì™„ë£Œ</div>
        </div>
      </div>
      
      <!-- Step 1: Terms -->
      <div class="step-content active" id="step-1">
        <h3 style="margin-bottom: 24px;">ì´ìš©ì•½ê´€ ë° ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë™ì˜</h3>
        
        <div class="form-check" style="margin-bottom: 24px;">
          <input type="checkbox" class="form-check-input" id="agree-all" onchange="toggleAllAgreements()">
          <label class="form-check-label" for="agree-all" style="font-weight: 600; font-size: 16px;">
            ì „ì²´ ì•½ê´€ì— ë™ì˜í•©ë‹ˆë‹¤
          </label>
        </div>
        
        <hr style="margin-bottom: 24px;">
        
        <div style="margin-bottom: 16px;">
          <div class="form-check" style="margin-bottom: 8px;">
            <input type="checkbox" class="form-check-input agreement-checkbox" id="agree-terms" required>
            <label class="form-check-label" for="agree-terms">
              <strong>[í•„ìˆ˜]</strong> ì´ìš©ì•½ê´€ ë™ì˜
            </label>
          </div>
          <div class="terms-box">
            <h4>ì½”ì•„ì‹œì•„ HR í¬í„¸ ì´ìš©ì•½ê´€</h4>
            <p><strong>ì œ1ì¡° (ëª©ì )</strong></p>
            <p>ì´ ì•½ê´€ì€ ì½”ì•„ì‹œì•„ ê·¸ë£¹ì´ ìš´ì˜í•˜ëŠ” HR í¬í„¸ ì‚¬ì´íŠ¸ì—ì„œ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ì˜ ì´ìš©ì¡°ê±´ ë° ì ˆì°¨ì— ê´€í•œ ì‚¬í•­ì„ ê·œì •í•¨ì„ ëª©ì ìœ¼ë¡œ í•©ë‹ˆë‹¤.</p>
            
            <p><strong>ì œ2ì¡° (ì •ì˜)</strong></p>
            <p>1. "ì„œë¹„ìŠ¤"ë€ íšŒì›ì´ ì½”ì•„ì‹œì•„ HR í¬í„¸ì—ì„œ ì´ìš©í•  ìˆ˜ ìˆëŠ” ì±„ìš©, ì¸ì‚¬ì œë„, êµìœ¡ ë“± ëª¨ë“  ì„œë¹„ìŠ¤ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.</p>
            <p>2. "íšŒì›"ì´ë€ ë³¸ ì•½ê´€ì— ë™ì˜í•˜ê³  íšŒì›ê°€ì…ì„ ì™„ë£Œí•œ ìë¥¼ ë§í•©ë‹ˆë‹¤.</p>
            
            <p><strong>ì œ3ì¡° (ì•½ê´€ì˜ íš¨ë ¥ ë° ë³€ê²½)</strong></p>
            <p>1. ì´ ì•½ê´€ì€ ì„œë¹„ìŠ¤ í™”ë©´ì— ê²Œì‹œí•˜ê±°ë‚˜ ê¸°íƒ€ì˜ ë°©ë²•ìœ¼ë¡œ íšŒì›ì—ê²Œ ê³µì§€í•¨ìœ¼ë¡œì¨ íš¨ë ¥ì´ ë°œìƒí•©ë‹ˆë‹¤.</p>
            <p>2. íšŒì‚¬ëŠ” í•„ìš”í•œ ê²½ìš° ê´€ë ¨ ë²•ë ¹ì„ ìœ„ë°°í•˜ì§€ ì•ŠëŠ” ë²”ìœ„ì—ì„œ ì´ ì•½ê´€ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            
            <p><strong>ì œ4ì¡° (íšŒì›ê°€ì…)</strong></p>
            <p>1. íšŒì›ê°€ì…ì€ ì‹ ì²­ìê°€ ì•½ê´€ì˜ ë‚´ìš©ì— ë™ì˜í•œ í›„ íšŒì›ê°€ì… ì‹ ì²­ì„ í•˜ê³  íšŒì‚¬ê°€ ì´ë¥¼ ìŠ¹ë‚™í•¨ìœ¼ë¡œì¨ ì²´ê²°ë©ë‹ˆë‹¤.</p>
            <p>2. íšŒì‚¬ëŠ” ë‹¤ìŒ ê° í˜¸ì— í•´ë‹¹í•˜ëŠ” ì‹ ì²­ì— ëŒ€í•´ì„œëŠ” ìŠ¹ë‚™ì„ í•˜ì§€ ì•Šê±°ë‚˜ ì‚¬í›„ì— ì´ìš©ê³„ì•½ì„ í•´ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
          </div>
        </div>
        
        <div style="margin-bottom: 16px;">
          <div class="form-check" style="margin-bottom: 8px;">
            <input type="checkbox" class="form-check-input agreement-checkbox" id="agree-privacy" required>
            <label class="form-check-label" for="agree-privacy">
              <strong>[í•„ìˆ˜]</strong> ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜
            </label>
          </div>
          <div class="terms-box">
            <h4>ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜</h4>
            <p><strong>1. ìˆ˜ì§‘í•˜ëŠ” ê°œì¸ì •ë³´ í•­ëª©</strong></p>
            <p>- í•„ìˆ˜í•­ëª©: ì´ë¦„, ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸, ì „í™”ë²ˆí˜¸</p>
            <p>- ì„ íƒí•­ëª©: ìƒë…„ì›”ì¼, ì„±ë³„</p>
            
            <p><strong>2. ê°œì¸ì •ë³´ì˜ ìˆ˜ì§‘ ë° ì´ìš© ëª©ì </strong></p>
            <p>- íšŒì› ê°€ì… ë° ê´€ë¦¬</p>
            <p>- ì±„ìš© ì§€ì› ì ‘ìˆ˜ ë° ì²˜ë¦¬</p>
            <p>- êµìœ¡ ê³¼ì • ì‹ ì²­ ë° ê´€ë¦¬</p>
            <p>- ê³µì§€ì‚¬í•­ ì „ë‹¬, ë³¸ì¸ ì˜ì‚¬ í™•ì¸, ë¶ˆë§Œ ì²˜ë¦¬</p>
            
            <p><strong>3. ê°œì¸ì •ë³´ì˜ ë³´ìœ  ë° ì´ìš© ê¸°ê°„</strong></p>
            <p>- íšŒì› íƒˆí‡´ ì‹œê¹Œì§€ (ë‹¨, ê´€ê³„ ë²•ë ¹ì— ë”°ë¼ ì¼ì • ê¸°ê°„ ë³´ê´€)</p>
            <p>- ì±„ìš© ì§€ì›ì ì •ë³´: ì±„ìš© ì¢…ë£Œ í›„ 2ë…„</p>
            
            <p><strong>4. ë™ì˜ ê±°ë¶€ ê¶Œë¦¬</strong></p>
            <p>ê·€í•˜ëŠ” ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš©ì— ëŒ€í•œ ë™ì˜ë¥¼ ê±°ë¶€í•  ê¶Œë¦¬ê°€ ìˆìœ¼ë‚˜, ë™ì˜ ê±°ë¶€ ì‹œ íšŒì›ê°€ì…ì´ ì œí•œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
          </div>
        </div>
        
        <div style="margin-bottom: 16px;">
          <div class="form-check" style="margin-bottom: 8px;">
            <input type="checkbox" class="form-check-input agreement-checkbox" id="agree-marketing">
            <label class="form-check-label" for="agree-marketing">
              [ì„ íƒ] ë§ˆì¼€íŒ… ì •ë³´ ìˆ˜ì‹  ë™ì˜ (ì´ë©”ì¼)
            </label>
          </div>
          <p style="font-size: 13px; color: var(--text-secondary); margin-left: 28px;">
            ì±„ìš© ì •ë³´, êµìœ¡ ê³¼ì • ì•ˆë‚´ ë“±ì˜ ìœ ìš©í•œ ì •ë³´ë¥¼ ì´ë©”ì¼ë¡œ ë°›ì•„ë³´ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
          </p>
        </div>
        
        <div class="btn-group">
          <a href="login.html" class="btn btn-outline" style="flex: 1;">
            ì·¨ì†Œ
          </a>
          <button type="button" class="btn btn-primary" style="flex: 2;" onclick="nextStep()">
            ë‹¤ìŒ
          </button>
        </div>
      </div>
      
      <!-- Step 2: User Info -->
      <div class="step-content" id="step-2">
        <h3 style="margin-bottom: 24px;">íšŒì› ì •ë³´ ì…ë ¥</h3>
        
        <form id="signup-form" onsubmit="handleSignup(event)">
          <div class="form-group">
            <label class="form-label required">ì´ë©”ì¼</label>
            <input 
              type="email" 
              class="form-input" 
              id="email" 
              name="email"
              placeholder="example@coasia.com"
              required
              onblur="checkEmailDomain()"
            >
            <span class="form-help">
              @coasia.com ì´ë©”ì¼ë¡œ ê°€ì… ì‹œ ìë™ìœ¼ë¡œ ë‚´ë¶€ ì§ì› ê¶Œí•œì´ ë¶€ì—¬ë©ë‹ˆë‹¤.
            </span>
          </div>
          
          <div class="internal-employee-notice" id="internal-notice">
            <i class="fas fa-check-circle" style="color: var(--success-color);"></i>
            <strong style="color: var(--success-color);">ë‚´ë¶€ ì§ì› ì¸ì¦</strong>
            <p style="margin: 8px 0 0 0; font-size: 14px;">
              ì½”ì•„ì‹œì•„ ì´ë©”ì¼ì´ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤. ê°€ì… í›„ ì „ì‚¬ êµìœ¡ ê³¼ì • ë° ì¸ì‚¬ì •ë³´ì— ì ‘ê·¼í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            </p>
          </div>
          
          <div class="form-group">
            <label class="form-label required">ë¹„ë°€ë²ˆí˜¸</label>
            <input 
              type="password" 
              class="form-input" 
              id="password" 
              name="password"
              placeholder="ì˜ë¬¸, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ì ì¡°í•© 8ì ì´ìƒ"
              required
              oninput="checkPasswordStrength()"
            >
            <div class="password-strength" id="password-strength">
              <div class="strength-bar">
                <div class="strength-fill"></div>
              </div>
              <span class="strength-text"></span>
            </div>
          </div>
          
          <div class="form-group">
            <label class="form-label required">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
            <input 
              type="password" 
              class="form-input" 
              id="password-confirm" 
              name="password_confirm"
              placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì…ë ¥í•˜ì„¸ìš”"
              required
              oninput="checkPasswordMatch()"
            >
            <span class="form-error" id="password-match-error" style="display: none;">
              ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
            </span>
          </div>
          
          <div class="form-group">
            <label class="form-label required">ì´ë¦„</label>
            <input 
              type="text" 
              class="form-input" 
              id="name" 
              name="name"
              placeholder="ì‹¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”"
              required
            >
          </div>
          
          <div class="form-group">
            <label class="form-label required">ì „í™”ë²ˆí˜¸</label>
            <input 
              type="tel" 
              class="form-input" 
              id="phone" 
              name="phone"
              placeholder="010-0000-0000"
              required
              oninput="formatPhoneNumber(this)"
            >
          </div>
          
          <div class="form-group">
            <label class="form-label">ìƒë…„ì›”ì¼ (ì„ íƒ)</label>
            <input 
              type="date" 
              class="form-input" 
              id="birth-date" 
              name="birth_date"
            >
          </div>
          
          <div class="form-group">
            <label class="form-label">ì„±ë³„ (ì„ íƒ)</label>
            <select class="form-select" id="gender" name="gender">
              <option value="">ì„ íƒ ì•ˆí•¨</option>
              <option value="male">ë‚¨ì„±</option>
              <option value="female">ì—¬ì„±</option>
              <option value="other">ê¸°íƒ€</option>
            </select>
          </div>
          
          <div class="btn-group">
            <button type="button" class="btn btn-outline" style="flex: 1;" onclick="prevStep()">
              ì´ì „
            </button>
            <button type="submit" class="btn btn-primary" style="flex: 2;">
              <i class="fas fa-user-plus"></i>
              íšŒì›ê°€ì…
            </button>
          </div>
        </form>
      </div>
      
      <!-- Step 3: Complete -->
      <div class="step-content" id="step-3">
        <div style="text-align: center; padding: 48px 0;">
          <div style="width: 100px; height: 100px; border-radius: 50%; background-color: var(--success-color); display: flex; align-items: center; justify-content: center; margin: 0 auto 24px;">
            <i class="fas fa-check" style="font-size: 48px; color: white;"></i>
          </div>
          <h2 style="color: var(--success-color); margin-bottom: 16px;">íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</h2>
          <p style="color: var(--text-secondary); margin-bottom: 32px;">
            ì´ë©”ì¼ ì¸ì¦ í›„ ëª¨ë“  ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
            (ì´ë©”ì¼ ì¸ì¦ ê¸°ëŠ¥ì€ Phase 2ì—ì„œ êµ¬í˜„ ì˜ˆì •)
          </p>
          
          <div class="alert alert-info" style="text-align: left; margin-bottom: 32px;">
            <i class="fas fa-info-circle"></i>
            <div>
              <strong>ë‹¤ìŒ ë‹¨ê³„:</strong>
              <ol style="margin: 8px 0 0 20px; padding: 0;">
                <li>ì´ë©”ì¼ ì¸ì¦ ë§í¬ë¥¼ í™•ì¸í•˜ì„¸ìš”</li>
                <li>ë¡œê·¸ì¸ í›„ í”„ë¡œí•„ì„ ì™„ì„±í•˜ì„¸ìš”</li>
                <li>ê´€ì‹¬ ìˆëŠ” ì±„ìš©ê³µê³ ë¥¼ í™•ì¸í•˜ì„¸ìš”</li>
              </ol>
            </div>
          </div>
          
          <div style="display: flex; gap: 12px; justify-content: center;">
            <a href="/" class="btn btn-outline">
              ë©”ì¸ìœ¼ë¡œ
            </a>
            <a href="login.html" class="btn btn-primary">
              ë¡œê·¸ì¸í•˜ê¸°
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="../js/utils.js"></script>
  <script src="../js/auth.js"></script>
  <script>
    let currentStep = 1;
    
    // ì „ì²´ ë™ì˜ í† ê¸€
    function toggleAllAgreements() {
      const agreeAll = document.getElementById('agree-all');
      const checkboxes = document.querySelectorAll('.agreement-checkbox');
      
      checkboxes.forEach(checkbox => {
        checkbox.checked = agreeAll.checked;
      });
    }
    
    // ê°œë³„ ì²´í¬ë°•ìŠ¤ ë³€ê²½ ì‹œ ì „ì²´ ë™ì˜ ì²´í¬ë°•ìŠ¤ ì—…ë°ì´íŠ¸
    document.querySelectorAll('.agreement-checkbox').forEach(checkbox => {
      checkbox.addEventListener('change', () => {
        const allChecked = Array.from(document.querySelectorAll('.agreement-checkbox'))
          .filter(cb => cb.required)
          .every(cb => cb.checked);
        document.getElementById('agree-all').checked = allChecked;
      });
    });
    
    // ë‹¤ìŒ ë‹¨ê³„
    function nextStep() {
      if (currentStep === 1) {
        // í•„ìˆ˜ ì•½ê´€ ë™ì˜ í™•ì¸
        const requiredCheckboxes = document.querySelectorAll('.agreement-checkbox[required]');
        const allAgreed = Array.from(requiredCheckboxes).every(cb => cb.checked);
        
        if (!allAgreed) {
          Utils.showAlert('í•„ìˆ˜ ì•½ê´€ì— ë™ì˜í•´ì£¼ì„¸ìš”.', 'error');
          return;
        }
      }
      
      currentStep++;
      updateSteps();
    }
    
    // ì´ì „ ë‹¨ê³„
    function prevStep() {
      if (currentStep > 1) {
        currentStep--;
        updateSteps();
      }
    }
    
    // ë‹¨ê³„ UI ì—…ë°ì´íŠ¸
    function updateSteps() {
      // Step indicators
      document.querySelectorAll('.step').forEach((step, index) => {
        const stepNum = index + 1;
        step.classList.remove('active', 'completed');
        
        if (stepNum === currentStep) {
          step.classList.add('active');
        } else if (stepNum < currentStep) {
          step.classList.add('completed');
          step.querySelector('.step-circle').innerHTML = '<i class="fas fa-check"></i>';
        } else {
          step.querySelector('.step-circle').textContent = stepNum;
        }
      });
      
      // Step content
      document.querySelectorAll('.step-content').forEach((content, index) => {
        content.classList.remove('active');
        if (index + 1 === currentStep) {
          content.classList.add('active');
        }
      });
      
      // Scroll to top
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
    
    // ì´ë©”ì¼ ë„ë©”ì¸ í™•ì¸
    function checkEmailDomain() {
      const email = document.getElementById('email').value;
      const notice = document.getElementById('internal-notice');
      
      if (email.endsWith('@coasia.com')) {
        notice.classList.add('show');
      } else {
        notice.classList.remove('show');
      }
    }
    
    // ë¹„ë°€ë²ˆí˜¸ ê°•ë„ ì²´í¬
    function checkPasswordStrength() {
      const password = document.getElementById('password').value;
      const strengthContainer = document.getElementById('password-strength');
      const strengthText = strengthContainer.querySelector('.strength-text');
      
      let strength = 0;
      if (password.length >= 8) strength++;
      if (/[a-z]/.test(password) && /[A-Z]/.test(password)) strength++;
      if (/\d/.test(password)) strength++;
      if (/[!@#$%^&*]/.test(password)) strength++;
      
      strengthContainer.className = 'password-strength';
      
      if (strength === 0 || password.length < 8) {
        strengthText.textContent = '';
      } else if (strength <= 2) {
        strengthContainer.classList.add('strength-weak');
        strengthText.textContent = 'ì•½í•¨';
        strengthText.style.color = 'var(--error-color)';
      } else if (strength === 3) {
        strengthContainer.classList.add('strength-medium');
        strengthText.textContent = 'ë³´í†µ';
        strengthText.style.color = 'var(--warning-color)';
      } else {
        strengthContainer.classList.add('strength-strong');
        strengthText.textContent = 'ê°•í•¨';
        strengthText.style.color = 'var(--success-color)';
      }
    }
    
    // ë¹„ë°€ë²ˆí˜¸ ì¼ì¹˜ í™•ì¸
    function checkPasswordMatch() {
      const password = document.getElementById('password').value;
      const passwordConfirm = document.getElementById('password-confirm').value;
      const error = document.getElementById('password-match-error');
      
      if (passwordConfirm && password !== passwordConfirm) {
        error.style.display = 'block';
        document.getElementById('password-confirm').classList.add('error');
      } else {
        error.style.display = 'none';
        document.getElementById('password-confirm').classList.remove('error');
      }
    }
    
    // ì „í™”ë²ˆí˜¸ í¬ë§·íŒ…
    function formatPhoneNumber(input) {
      let value = input.value.replace(/\D/g, '');
      if (value.length > 11) value = value.slice(0, 11);
      
      if (value.length > 6) {
        input.value = value.slice(0, 3) + '-' + value.slice(3, 7) + '-' + value.slice(7);
      } else if (value.length > 3) {
        input.value = value.slice(0, 3) + '-' + value.slice(3);
      } else {
        input.value = value;
      }
    }
    
    // íšŒì›ê°€ì… ì²˜ë¦¬
    async function handleSignup(e) {
      e.preventDefault();
      
      // ë¹„ë°€ë²ˆí˜¸ ì¼ì¹˜ í™•ì¸
      const password = document.getElementById('password').value;
      const passwordConfirm = document.getElementById('password-confirm').value;
      
      if (password !== passwordConfirm) {
        Utils.showAlert('ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.', 'error');
        return;
      }
      
      // ë¹„ë°€ë²ˆí˜¸ ê°•ë„ í™•ì¸
      if (password.length < 8) {
        Utils.showAlert('ë¹„ë°€ë²ˆí˜¸ëŠ” 8ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.', 'error');
        return;
      }
      
      // í¼ ë°ì´í„° ìˆ˜ì§‘
      const userData = {
        email: document.getElementById('email').value.trim(),
        password: password,
        name: document.getElementById('name').value.trim(),
        phone: document.getElementById('phone').value.trim(),
        birth_date: document.getElementById('birth-date').value,
        gender: document.getElementById('gender').value
      };
      
      // ë¡œë”© í‘œì‹œ
      Utils.showLoading();
      
      try {
        // íšŒì›ê°€ì… ì‹œë„
        await Auth.register(userData);
        
        Utils.hideLoading();
        
        // 3ë‹¨ê³„ë¡œ ì´ë™
        currentStep = 3;
        updateSteps();
      } catch (error) {
        Utils.hideLoading();
        Utils.showAlert(error.message || 'íšŒì›ê°€ì…ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.', 'error');
      }
    }
  </script>
</body>
</html>

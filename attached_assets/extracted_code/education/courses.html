<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>êµìœ¡ê³¼ì • ì•ˆë‚´ - JSH HR í¬í„¸</title>
  <link rel="icon" type="image/png" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ“</text></svg>">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/style.css">
  <script src="../js/header-loader.js"></script>
</head>
<body>
  <!-- Header will be loaded automatically by header-loader.js -->

  <div style="background: linear-gradient(135deg, #0052A5 0%, #003D7A 100%); color: white; padding: 64px 0; margin-bottom: 48px;">
    <div class="container">
      <h1 style="font-size: 40px; margin-bottom: 16px; color: white;">
        <i class="fas fa-graduation-cap"></i> êµìœ¡ê³¼ì • ì•ˆë‚´
      </h1>
      <p style="font-size: 18px; color: rgba(255,255,255,0.9); margin: 0;">
        JSHì˜ ì²´ê³„ì ì¸ êµìœ¡ í”„ë¡œê·¸ë¨ìœ¼ë¡œ ì—­ëŸ‰ì„ ê°•í™”í•˜ì„¸ìš”
      </p>
    </div>
  </div>

  <div class="container" style="margin-bottom: 80px;">
    <div class="grid grid-3" id="course-list">
      <div class="card text-center" style="padding: 80px;">
        <div class="spinner" style="margin: 0 auto 16px;"></div>
        <p style="color: var(--text-secondary);">êµìœ¡ê³¼ì •ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
      </div>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <div class="footer-bottom">
        <p>ê²½ê¸°ë„ ìš©ì¸ì‹œ ìˆ˜ì§€êµ¬ ì£½ì „ë¡œ 152 ë‹¨êµ­ëŒ€í•™êµ ì†Œí”„íŠ¸ì›¨ì–´ ICTê´€ 512í˜¸</p>
        <p>Copyright Â© 2026 Jang Soonho. All Rights Reserved.</p>
      </div>
    </div>
  </footer>

  <script src="../js/utils.js"></script>
  <script src="../js/auth.js"></script>
  <script>
    async function loadCourses() {
      const container = document.getElementById('course-list');
      
      try {
        const response = await fetch('tables/courses?status=active&limit=20');
        const data = await response.json();
        
        if (data.data && data.data.length > 0) {
          container.innerHTML = data.data.map(course => `
            <div class="card">
              <div class="card-body">
                <span class="badge badge-primary">${course.category}</span>
                <h3 class="card-title">${course.title}</h3>
                <div style="color: var(--text-secondary); font-size: 14px; margin-bottom: 16px;">
                  <div style="margin-bottom: 8px;">
                    <i class="fas fa-calendar"></i> ${Utils.formatDate(course.start_date)} ~ ${Utils.formatDate(course.end_date)}
                  </div>
                  <div style="margin-bottom: 8px;">
                    <i class="fas fa-users"></i> ì •ì› ${course.capacity}ëª…
                  </div>
                  <div>
                    <i class="fas fa-clock"></i> ${course.hours}ì‹œê°„
                  </div>
                </div>
              </div>
              <div class="card-footer">
                <span>${course.fee === 0 ? 'ë¬´ë£Œ' : Utils.formatNumber(course.fee) + 'ì›'}</span>
                <a href="course-detail.html?id=${course.id}" class="btn btn-primary btn-sm">
                  ìƒì„¸ë³´ê¸°
                </a>
              </div>
            </div>
          `).join('');
        } else {
          container.innerHTML = `
            <div class="card text-center" style="padding: 80px; grid-column: 1 / -1;">
              <i class="fas fa-inbox" style="font-size: 64px; color: var(--text-secondary); margin-bottom: 24px;"></i>
              <h3>í˜„ì¬ ì§„í–‰ì¤‘ì¸ êµìœ¡ê³¼ì •ì´ ì—†ìŠµë‹ˆë‹¤</h3>
              <p style="color: var(--text-secondary);">ìƒˆë¡œìš´ êµìœ¡ê³¼ì •ì´ ê³§ ê³µê°œë  ì˜ˆì •ì…ë‹ˆë‹¤.</p>
            </div>
          `;
        }
      } catch (error) {
        container.innerHTML = `
          <div class="alert alert-error" style="grid-column: 1 / -1;">
            <i class="fas fa-exclamation-circle"></i>
            êµìœ¡ê³¼ì •ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.
          </div>
        `;
      }
    }

    document.addEventListener('DOMContentLoaded', loadCourses);
  </script>
</body>
</html>

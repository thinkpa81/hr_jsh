<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>í†µê³„ ë¶„ì„ - JSH HR í¬í„¸</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>ğŸ¢</text></svg>">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

  <!-- Include Header -->
  <div id="header-placeholder"></div>

  <!-- Page Header -->
  <section class="page-header">
    <div class="container">
      <h1><i class="fas fa-chart-line"></i> ì±„ìš© í†µê³„ ë¶„ì„</h1>
      <p>ë°ì´í„° ê¸°ë°˜ì˜ ì±„ìš© ì¸ì‚¬ì´íŠ¸ë¥¼ í™•ì¸í•˜ì„¸ìš”</p>
    </div>
  </section>

  <!-- Main Content -->
  <main class="main-content">
    <div class="container">
      
      <!-- Key Metrics -->
      <div class="stats-grid" style="margin-bottom: 32px;">
        <div class="stat-card stat-blue">
          <div class="stat-icon">
            <i class="fas fa-users"></i>
          </div>
          <div class="stat-content">
            <div class="stat-label">ì´ ì§€ì›ì</div>
            <div class="stat-value">1,247</div>
            <div class="stat-change positive">
              <i class="fas fa-arrow-up"></i> 15% ì¦ê°€
            </div>
          </div>
        </div>
        <div class="stat-card stat-green">
          <div class="stat-icon">
            <i class="fas fa-user-check"></i>
          </div>
          <div class="stat-content">
            <div class="stat-label">í•©ê²©ì</div>
            <div class="stat-value">87</div>
            <div class="stat-change positive">
              <i class="fas fa-arrow-up"></i> 8% ì¦ê°€
            </div>
          </div>
        </div>
        <div class="stat-card stat-purple">
          <div class="stat-icon">
            <i class="fas fa-percentage"></i>
          </div>
          <div class="stat-content">
            <div class="stat-label">í•©ê²©ë¥ </div>
            <div class="stat-value">7.0%</div>
            <div class="stat-change negative">
              <i class="fas fa-arrow-down"></i> 2% ê°ì†Œ
            </div>
          </div>
        </div>
        <div class="stat-card stat-orange">
          <div class="stat-icon">
            <i class="fas fa-clock"></i>
          </div>
          <div class="stat-content">
            <div class="stat-label">í‰ê·  ì±„ìš© ê¸°ê°„</div>
            <div class="stat-value">28ì¼</div>
            <div class="stat-change positive">
              <i class="fas fa-arrow-down"></i> 5ì¼ ë‹¨ì¶•
            </div>
          </div>
        </div>
      </div>

      <!-- Charts Row 1 -->
      <div class="chart-row" style="display: grid; grid-template-columns: 2fr 1fr; gap: 24px; margin-bottom: 24px;">
        <!-- Applications Trend Chart -->
        <div class="dashboard-section">
          <h2 class="section-title">
            <div class="section-icon" style="background: linear-gradient(135deg, #3B82F6 0%, #2563EB 100%);">
              <i class="fas fa-chart-area"></i>
            </div>
            ì›”ë³„ ì§€ì›ì ì¶”ì´
          </h2>
          <div style="height: 350px; padding: 20px;">
            <canvas id="applicationsChart"></canvas>
          </div>
        </div>

        <!-- Position Distribution -->
        <div class="dashboard-section">
          <h2 class="section-title">
            <div class="section-icon" style="background: linear-gradient(135deg, #10B981 0%, #059669 100%);">
              <i class="fas fa-chart-pie"></i>
            </div>
            í¬ì§€ì…˜ë³„ ë¶„í¬
          </h2>
          <div style="height: 350px; padding: 20px;">
            <canvas id="positionChart"></canvas>
          </div>
        </div>
      </div>

      <!-- Charts Row 2 -->
      <div class="chart-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 24px;">
        <!-- Funnel Chart -->
        <div class="dashboard-section">
          <h2 class="section-title">
            <div class="section-icon" style="background: linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%);">
              <i class="fas fa-filter"></i>
            </div>
            ì±„ìš© í”„ë¡œì„¸ìŠ¤ ë¶„ì„
          </h2>
          <div style="height: 350px; padding: 20px;">
            <canvas id="funnelChart"></canvas>
          </div>
        </div>

        <!-- Source Analysis -->
        <div class="dashboard-section">
          <h2 class="section-title">
            <div class="section-icon" style="background: linear-gradient(135deg, #F59E0B 0%, #D97706 100%);">
              <i class="fas fa-bullhorn"></i>
            </div>
            ìœ ì… ì±„ë„ ë¶„ì„
          </h2>
          <div style="height: 350px; padding: 20px;">
            <canvas id="sourceChart"></canvas>
          </div>
        </div>
      </div>

      <!-- Top Positions Table -->
      <div class="dashboard-section">
        <h2 class="section-title" style="margin-bottom: 24px;">
          <div class="section-icon" style="background: linear-gradient(135deg, #EC4899 0%, #DB2777 100%);">
            <i class="fas fa-trophy"></i>
          </div>
          ì¸ê¸° í¬ì§€ì…˜ TOP 5
        </h2>

        <div class="table-responsive">
          <table class="data-table">
            <thead>
              <tr>
                <th>ìˆœìœ„</th>
                <th>í¬ì§€ì…˜</th>
                <th>ì§€ì›ì ìˆ˜</th>
                <th>í•©ê²©ì ìˆ˜</th>
                <th>í•©ê²©ë¥ </th>
                <th>AI í‰ê·  ì ìˆ˜</th>
                <th>íŠ¸ë Œë“œ</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><span class="rank-badge rank-1">1</span></td>
                <td>ë°±ì—”ë“œ ê°œë°œì (Node.js)</td>
                <td>156</td>
                <td>12</td>
                <td>7.7%</td>
                <td>
                  <div class="ai-score-badge score-high">
                    <i class="fas fa-robot"></i> 85ì 
                  </div>
                </td>
                <td>
                  <div class="trend-indicator positive">
                    <i class="fas fa-arrow-up"></i> 24%
                  </div>
                </td>
              </tr>
              <tr>
                <td><span class="rank-badge rank-2">2</span></td>
                <td>ë°ì´í„° ì‚¬ì´ì–¸í‹°ìŠ¤íŠ¸</td>
                <td>142</td>
                <td>9</td>
                <td>6.3%</td>
                <td>
                  <div class="ai-score-badge score-high">
                    <i class="fas fa-robot"></i> 82ì 
                  </div>
                </td>
                <td>
                  <div class="trend-indicator positive">
                    <i class="fas fa-arrow-up"></i> 18%
                  </div>
                </td>
              </tr>
              <tr>
                <td><span class="rank-badge rank-3">3</span></td>
                <td>í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì (React)</td>
                <td>128</td>
                <td>10</td>
                <td>7.8%</td>
                <td>
                  <div class="ai-score-badge score-high">
                    <i class="fas fa-robot"></i> 80ì 
                  </div>
                </td>
                <td>
                  <div class="trend-indicator positive">
                    <i class="fas fa-arrow-up"></i> 12%
                  </div>
                </td>
              </tr>
              <tr>
                <td><span class="rank-badge">4</span></td>
                <td>HR ë§¤ë‹ˆì €</td>
                <td>98</td>
                <td>6</td>
                <td>6.1%</td>
                <td>
                  <div class="ai-score-badge score-medium">
                    <i class="fas fa-robot"></i> 76ì 
                  </div>
                </td>
                <td>
                  <div class="trend-indicator negative">
                    <i class="fas fa-arrow-down"></i> 5%
                  </div>
                </td>
              </tr>
              <tr>
                <td><span class="rank-badge">5</span></td>
                <td>ê²½ì˜ê¸°íš ë‹´ë‹¹ì</td>
                <td>87</td>
                <td>5</td>
                <td>5.7%</td>
                <td>
                  <div class="ai-score-badge score-medium">
                    <i class="fas fa-robot"></i> 74ì 
                  </div>
                </td>
                <td>
                  <div class="trend-indicator neutral">
                    <i class="fas fa-minus"></i> 0%
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

    </div>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <p>&copy; 2026 JSH HR Portal. All rights reserved.</p>
    </div>
  </footer>

  <script>
    // Load header
    fetch('../includes/header.html')
      .then(response => response.text())
      .then(html => {
        document.getElementById('header-placeholder').innerHTML = html;
      });

    // Chart Colors
    const colors = {
      blue: '#3B82F6',
      green: '#10B981',
      purple: '#8B5CF6',
      orange: '#F59E0B',
      red: '#EF4444',
      pink: '#EC4899'
    };

    // Applications Trend Chart
    const applicationsCtx = document.getElementById('applicationsChart').getContext('2d');
    new Chart(applicationsCtx, {
      type: 'line',
      data: {
        labels: ['7ì›”', '8ì›”', '9ì›”', '10ì›”', '11ì›”', '12ì›”', '1ì›”'],
        datasets: [{
          label: 'ì§€ì›ì ìˆ˜',
          data: [85, 92, 108, 125, 142, 168, 187],
          borderColor: colors.blue,
          backgroundColor: 'rgba(59, 130, 246, 0.1)',
          fill: true,
          tension: 0.4
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            display: false
          }
        },
        scales: {
          y: {
            beginAtZero: true
          }
        }
      }
    });

    // Position Distribution Chart
    const positionCtx = document.getElementById('positionChart').getContext('2d');
    new Chart(positionCtx, {
      type: 'doughnut',
      data: {
        labels: ['ê°œë°œ', 'ë°ì´í„°', 'HR', 'ê²½ì˜ê¸°íš', 'ê¸°íƒ€'],
        datasets: [{
          data: [35, 25, 18, 12, 10],
          backgroundColor: [
            colors.blue,
            colors.green,
            colors.purple,
            colors.orange,
            colors.pink
          ]
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            position: 'bottom'
          }
        }
      }
    });

    // Funnel Chart (using bar chart)
    const funnelCtx = document.getElementById('funnelChart').getContext('2d');
    new Chart(funnelCtx, {
      type: 'bar',
      data: {
        labels: ['ì§€ì›', 'ì„œë¥˜', '1ì°¨ ë©´ì ‘', '2ì°¨ ë©´ì ‘', 'ìµœì¢… í•©ê²©'],
        datasets: [{
          label: 'ì¸ì› ìˆ˜',
          data: [1247, 420, 156, 98, 87],
          backgroundColor: [
            colors.blue,
            colors.green,
            colors.purple,
            colors.orange,
            colors.pink
          ]
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            display: false
          }
        },
        scales: {
          y: {
            beginAtZero: true
          }
        }
      }
    });

    // Source Analysis Chart
    const sourceCtx = document.getElementById('sourceChart').getContext('2d');
    new Chart(sourceCtx, {
      type: 'bar',
      data: {
        labels: ['ìì‚¬ í™ˆí˜ì´ì§€', 'ì‚¬ëŒì¸', 'ì¡ì½”ë¦¬ì•„', 'ë§í¬ë“œì¸', 'ì¶”ì²œ', 'ê¸°íƒ€'],
        datasets: [{
          label: 'ì§€ì›ì ìˆ˜',
          data: [450, 320, 280, 125, 52, 20],
          backgroundColor: colors.blue
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        indexAxis: 'y',
        plugins: {
          legend: {
            display: false
          }
        },
        scales: {
          x: {
            beginAtZero: true
          }
        }
      }
    });
  </script>

  <style>
    .stat-change {
      font-size: 14px;
      margin-top: 8px;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .stat-change.positive {
      color: var(--success-color);
    }

    .stat-change.negative {
      color: var(--danger-color);
    }

    .rank-badge {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      font-weight: 700;
      background: #F3F4F6;
      color: var(--text-primary);
    }

    .rank-badge.rank-1 {
      background: linear-gradient(135deg, #FBBF24 0%, #F59E0B 100%);
      color: white;
    }

    .rank-badge.rank-2 {
      background: linear-gradient(135deg, #D1D5DB 0%, #9CA3AF 100%);
      color: white;
    }

    .rank-badge.rank-3 {
      background: linear-gradient(135deg, #FCA5A5 0%, #F87171 100%);
      color: white;
    }

    .trend-indicator {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      font-size: 14px;
      font-weight: 600;
    }

    .trend-indicator.positive {
      color: var(--success-color);
    }

    .trend-indicator.negative {
      color: var(--danger-color);
    }

    .trend-indicator.neutral {
      color: var(--text-secondary);
    }

    .ai-score-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
    }

    .score-high {
      background: linear-gradient(135deg, #D1FAE5 0%, #A7F3D0 100%);
      color: #059669;
    }

    .score-medium {
      background: linear-gradient(135deg, #FEF3C7 0%, #FDE68A 100%);
      color: #D97706;
    }

    .chart-row canvas {
      max-height: 100%;
    }
  </style>

</body>
</html>
